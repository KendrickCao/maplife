<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="navigator/bars::common-header(~{::title}, ~{::link})">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
    <script src="https://sdk.twilio.com/js/video/releases/2.17.1/twilio-video.min.js"></script>
    <script type="module" src="js/LivePlayer/twilio-live-player.js"></script>

    <link th:href= "@{/css/stream.css}" rel="stylesheet" />
    <title>Streaming</title>
</head>
<body th:replace="navigator/bars::common-body(~{::#steaming-page},~{},~{::script})">
<div id="steaming-page">
    <main id="panel">
        <div class="row" style="position: absolute;">
            <section id="left_display" class="main_card">
                <button id="partycheck">Reload video</button>
				<button style="display:none" type="button" id="mute_publish_audio">Stop audio publish</button>
                <div id="stream"></div>

            </section>
            <aside id="right_option" class="main_card" >
                <button id="setting">Setting</button>
                <button id="delete_exit_room">Delete</button>
                <div id="viewer_number" class="counter">0 views</div>
                <div id="streamer_number" class="counter">1 streamers</div>
                <table id="cohost_list">
                    <thead class="fixed">
                        <tr>
                            <th>Username</th>
                            <th>Accept</th>
                            <th>Decline</th>
                        </tr>
                    </thead>
                    <tbody class="scroll" id="cohost_requests">

                    </tbody>
                </table>
                <div id="chat"></div>
            </aside>
        </div>
        <section id="bottom_other_stream" style="position: absolute;"></section>
		<div id="blackscreen" style="position: absolute;">
			<select id="user_video" name="video_preview"></select>
			<div id="video_target"></div>
			<select id="user_mic" name="mic_preview"></select>
			<label class="switch" id="mic_switch">
				<input type="checkbox" id="audioreplay">
				<span class="slider round"></span>
			</label>

			<select id="user_speaker" name="speaker_preview"></select>
			<button id="test_audio">Test speaker</button>
            <div id="speaker_target">
                <audio id="audiodemo"> <source th:src="@{/audio/testmusic.mp3}" type="audio/mp3" ></audio>
            </div>
			<div style="display:none" class="lds-roller" id="loading_animation"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
            <button style="display:none" type="button" id="join_room_btn">Join Room</button>
            <button type="button" id="cancel_btn">Cancel</button>
        </div>
    </main>

</div>
<script type="text/javascript" th:src="@{/js/stream.js}"></script>
</body>
</html>