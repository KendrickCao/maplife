<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="navigator/bars::common-header(~{::title}, ~{::link})">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
    <script src="https://sdk.twilio.com/js/video/releases/2.17.1/twilio-video.min.js"></script>


    <link th:href= "@{/css/stream.css}" rel="stylesheet" />
    <title>Streaming</title>
</head>
<body th:replace="navigator/bars::common-body(~{::#steaming-page},~{},~{::script})">
<div id="steaming-page">
    <main id="panel" class="">
		<div id="blackscreen" >
			<select id="user_video" class="user_video form-select form-select-sm" name="video_preview"></select>
			<div id="video_target" class="video-target"></div>
            <div style="display:none" class="lds-roller" id="loading_animation"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
            <div class="steaming-button-controller">
                <div class="streaming-switch-button">
                    <div class="streaming-mic-switch">
                        <select id="user_mic" class="user_mic form-select form-select-sm" name="mic_preview"></select>
                        <label class="switch mic_switch" id="mic_switch" >
                            <input type="checkbox" id="audioreplay">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="streaming-mic-switch">
                        <select id="user_speaker" name="speaker_preview" class="user_speaker form-select form-select-sm"></select>
                        <button id="test_audio" class="test_audio">Test speaker</button>
                    </div>
                    <div id="speaker_target">
                        <audio id="audiodemo"> <source th:src="@{/audio/testmusic.mp3}" type="audio/mp3" ></audio>
                    </div>
                </div>
                <div class="streaming-click-button">
                    <button type="button" id="cancel_btn" class="join_room_button btn btn-sm btn-outline-secondary">Cancel</button>
                    <button style="display:none" type="button" id="join_room_btn" class="join_room_button btn btn-sm signup-btn">Join Room</button>
                </div>
            </div>
        </div>
        <div class="hostAndCohost">
            <div class="row" >
                <section id="left_display" class="main_card">
                    <div class="left-display-control">
                        <div id="stream" class="steam-window"></div>
                    </div>

                </section>
                <aside id="right_option" class="main_card" >
                    <div class="right-option-button-control">
                        <button id="partycheck" class="partyCheck btn btn-sm btn-outline-secondary">Reload video</button>
                        <button style="display:none" type="button" id="mute_publish_audio" class="btn btn-sm btn-outline-secondary">Stop audio publish</button>
                        <button id="setting" class="btn btn-sm btn-outline-secondary">Setting</button>
                        <button id="delete_exit_room" class="btn btn-sm btn-outline-secondary">Delete</button>
                    </div>
                    <div class="right-option-viewerDetail">
                        <div id="viewer_number" class="counter">0 views</div>
                        <div id="streamer_number" class="counter">1 streamers</div>
                    </div>
                    <table id="cohost_list">
                        <thead class="fixed">
                        <tr>
                            <th>Cohost request list</th>
                            <!--                        <th>Accept</th>-->
                            <!--                        <th>Decline</th>-->
                        </tr>
                        </thead>
                        <tbody class="scroll" id="cohost_requests">
                        </tbody>
                    </table>
                    <div id="chat"></div>
                </aside>
            </div>
            <section id="bottom_other_stream" class="cohost-stream"></section>
        </div>

    </main>

</div>
<script type="text/javascript" th:src="@{/js/stream.js}"></script>
</body>
</html>